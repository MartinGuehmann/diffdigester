<!DOCTYPE html>
<html lang="en">

<head><!-- Copyright by Martin Gühmann and Ralf Mrowka (C) 2021, all rights reserved -->
	<meta charset="utf-8">

	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Expires" content="0">

	<title>Preselector</title>
	<link rel="stylesheet" href="stylesheet.css" type="text/css" media="screen">
	<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
	<link rel="icon" href="favicon.ico" type="image/x-icon">

	<script var="" database;="" src="gcg.txt"></script>
	<script>var enzymeentry = database.split('\n');</script>
	<script type="text/javascript" src="digester.js"></script>
</head>

<body>
	<div class="w3-bar w3-black">
		<button class="w3-bar-item w3-button tablink w3-blue" onclick="pressed(event,'home')">Home</button>
		<button class="w3-bar-item w3-button tablink" onclick="pressed(event,'documentation')">Why Preselection?</button>
		<button class="w3-bar-item w3-button tablink" onclick="pressed(event,'digester')">Find your Preselection</button>
		<button class="w3-bar-item w3-button tablink" onclick="pressed(event,'about')">About</button>
		<a class="w3-bar-item w3-button tablink" href="https://preselectoruni-jenade.readthedocs.io/en/latest/" target="_blank" rel="noopener" style="float: right;">Documentation and Help</a>
	</div>

	<div id="home" class="w3-container  tab">

		<figure style="float: right">
			<img src="gel-spiegel.jpg" alt="gel image" style="width: 300px">
			<figcaption>Image of an DNA agarose gel</figcaption>
		</figure> 

		<noscript>
			<div class="h1" style="color:red">
				This site requires JavaScript, please enable it!
			</div>
		</noscript>

		<div class="h1">Welcome to this site</div>
		Molecular cloning is a basic and
		very useful method in molecular biology. Cloning allows combining DNA 
		fragments from different sources into one DNA molecule like a plasmid. 
		Plasmids can be easily amplified in E. coli. Plasmids can also be used 
		to express proteins in bacteria and eucariotic cells. Furthermore, 
		plasmids may be used for instance as p-element vectors for generating 
		transgene fruit flies.<Br>

		One application for molecular 
		cloning is to replace a gene in a plasmid by another gene. Another is 
		adding multiple functional elements into a plasmid. For instance a 
		p-element vector does not only have a plasmid backbone and the gene of 
		interest, but also for tissue specific expression a promoter and a 3’UTR
		with a polyadenylation signal, and a p-element for random genomic 
		integration. Such a plasmid may have some 10 000 base pairs.<Br>

		Successful cloning requires an appropriate cloning strategy, which is in mathematical terms a 
		combinatorial problem. A typical application is designing a 
		preselection digest to reduce the background in the ligation reaction. <Br>

		Here we provide a free online tool to find fitting enzymes for designing your preselection digests. 
		Simply give the sequences of the constructs you want to compare, and we
		will provide you with a list of all enzymes you can use for your preselection.

		<div class="h2">Data security:</div>
			No sequence data will be uploaded, everything is processed in your local browser with JavaScript.
		</div>

		<div id="documentation" class="w3-container  tab" style="display: none;">

		<div class="h1"> Introduction</div>

		In molecular cloning, restriction enzymes are used to cut out a fragment of DNA from a Donor Vector to
		ligate it then into a previously opened Recipient Vector. The DNA fragments are separated on an agarose gel.
		However, restriction enzymes may digest incompletely, leaving not only backbone and insert, but also linearized DNA molecules in the reaction.
		A linearized plasmid of 10000 bp can be easily separated from a 1000 bp cutout fragment but is difficult to separate from a 9000 bp 
		backbone fragment. Therefore, even after gel isolation linearized fragments may be left, and used in the ligation. 
		A single fragment is more likely to be ligated with itself, than two are ligated together. This leads to a high background.

		The background can be substantially reduced by a preselection digest. Here another enzyme is used that does not cut the Final Vector after 
		ligation, but cuts the Recipient Vector. This preselection enzyme cuts after ligation all original Recipient Vectors that have been religated. 
		The challenge here is finding a preselection enzyme, which is in mathematical terms a combinatorial problem. An easy way to find such enzymes is 
		provided by preselector.uni-jena.de.

		<figure >
			<img src="preselector_beschriftet6.png" alt="Flow Chart" style="width: 70%">
				<figcaption>Figure 1: Preselection digests give the opportunity to remove the vectors not wanted for transformation. The vectors are treated with an enzyme that 
				cuts the Recipient Vector but not the Final Vector. The Recipeint vector is linearized and is unsuitable for transformation</figcaption>
		</figure>

		<br>

		You have to provide your two sequences in plain text. You can copy and paste the sequences into our web form.
		In the case of a preselection digest e.g. the sequence of the Recipient Vector, optionally the donor insert, and the sequence of the Final Vector.

		An example of a plain text DNA sequence in 5-3 direction:
		AGCTAGTCGATGCTATATTTAGCGATGCTAGTCGACTAGCTAAGGCTAGTGATCGAGCTGATCTATCGGATCTAGCGATCGATCGACTAC

		<div class="h1">What do you get?</div>

		You enter two or three DNA sequences, indicate whether they are linear or circular.
		And you get for each sequence, a list of cutting and another list of all non-cutting enzymes. 
		It also displays the enzymes that cut the first but not the third sequence, and the enzymes that 
		cut the second but not the third sequence. This way you can select your enzymes for your  
		preselection, i.e. enzymes that cut in the recipient but not in the final plasmid. In addition you get 
		a list of all non-cutting enzymes for each sequence. 

		<div class="h1">How does it work?</div>

		The sequences you provide are processed by a JavaScript program. No sequence is uploaded to the server. All sequences remain in the browser.
		The JavaScript program uses regular expressions to search for the recognition sequences of restriction enzymes from the Rebase database.

		<div class="h1">Disclaimer</div>

		For research use only. Not for diagnostic or therapeutic applications.

		<div class="h1">Literature</div>

		<div class="h2">About cloning, restriction enzymes, and their application:</div>
		<ul>
			<li>Matsumura, I. (2015) Why Johnny can’t clone: Common pitfalls and not so common solutions. BioTechniques, 59, 4-13.</li>
			<li>Zeng, Q., Eidsness, M.K., Summers, A.O. (1997) Near-Zero Background Cloning of PCR Products. BioTechniques, 23, 412-418.</li>
			<li>Spear, M.A. (2000) Efficient DNA subcloning through selective restriction endonuclease digestion. BioTechniques, 28, 660-668.</li>
			<li>Xu, Q., Zhang, D. and Downie, B. (2005) Rapid and Efficient Subcloning of DNA Without Dephosphorylation or Gel Electrophoresis. Applied Biochemistry and Biotechnology - Part B Molecular Biotechnology, 29, 111-117.</li>
			<li>Nathans, D. and Smith, H.O. (1975) Restriction endonucleases in the analysis and restructuring of dna molecules. Annu Rev Biochem, 44, 273-293.</li>
			<li>Roberts, R.J., Vincze, T., Posfai, J., Macelis, D. (2015) REBASE-a database for DNA restriction and modification: enzymes, genes and genomes. Nucleic Acids Res, 43 (Database issue), D298–D299.</li>
		</ul>
		<div class="h2">About design of plasmid vectors in general:</div>
		<ul>
			<li>Tolmachov O. Designing plasmid vectors. Methods Mol Biol. 2009;542:117-29.</li>
		</ul>

		<div class="h2">About p-vector cloning:</div>
		<ul>
			<li>Townson, S.M., Chang, B.S., Salcedo, E., Chadwell, L.V., Pierce, N.E. and Britt, S.G. (1998) Honeybee blue- and ultraviolet-sensitive opsins: cloning, heterologous expression in Drosophila, and physiological characterization. J Neurosci, 18, 2412-2422.</li>
			<li>Knox, B.E., Salcedo, E., Mathiesz, K., Schaefer, J. Chou, W.H., Chadwell, L.V., Smith, W.C., Britt, S.G., Barlow, R.B. (2003) Heterologous expression of Limulus rhodopsin. Journal of Biological Chemistry, 278, 40493-40502</li>
		</ul>
	</div>

	<div id="about" class="w3-container tab" style="display: none;">

		<div class="h2">This work has been delveloped in the Mrowka Lab</div>
		For more information, including a quick-guide for how to use Preselector.uni-jena.de and some example applications, please visit our online documentation at <a href="https://preselectoruni-jenade.readthedocs.io/en/latest/" target="_blank" rel="noopener">https://preselectoruni-jenade.readthedocs.io/en/latest/</a>.
		<BR>
		<BR>
		The source code for Preselector can be found on GitHub: <a href="https://github.com/MartinGuehmann/preselector" target="_blank" rel="noopener">https://github.com/MartinGuehmann/preselector</a>
		<BR>
		<BR>

		Contact:<BR>
		Prof. Dr. Ralf Mrowka<BR>
		Experimental Nephrology<BR>

		<a href="https://www.uniklinikum-jena.de">Universitätsklinikum Jena</a>
		, KIM III<BR>
		Am Nonnenplan 4<BR>
		07743 JENA<BR>
		Germany<BR>

		Tel.: +49 3641 9396600 (Office)<BR>
		FAX:  +49 3641 9396602
		<BR>
		<BR>
		<div class="h2">
			<a href="https://www.uniklinikum-jena.de/Impressum.html">Imprint</a>
		</div>
	</div>

	<div id="digester" class="w3-container  tab" style="display: none;">

		<div class="h1">Digester for Preselection</div><br>
		<input type="file" id="loadSequenceDialog" style="display:none" onchange="onChangeLoadSequences()"/>

		<div>DNA Sequence 1 (e.g. DNA sequence of recipient plasmid):
			<div>
				<textarea id="seq1" name="sequence 1" rows="4" cols="90"></textarea>
			</div>
			<div>
				<button class="button button2" onclick="loadSequence('seq1')" title="Load sequence from a file.">Load sequence...</button>
				<button class="button button2" onclick="setseq('seq1',sampleseq1)" title="Load the sequence of the recipient plasmid of example 1 from the example section.">Load example</button>
				<button id="clear1" class="button button3" onclick="clearseq('seq1')" title="Clear the current sequence and the result columns.">Clear</button>
				<label for="circular1" title="Check if the provided sequence is circular.">circular: </label><input id="circular1" checked="checked" type="checkbox" title="Check if the provided sequence is circular.">
			</div>
		</div><br>

		<div>DNA Sequence 2 (e.g. donor plasmid), you may leave this empty:
			<div>
				<textarea id="seq2" name="Sequence 2" rows="4" cols="90"></textarea>
			</div>
			<div>
				<button class="button button2" onclick="loadSequence('seq2')" title="Load sequence from a file.">Load sequence...</button>
				<button class="button button2" onclick="setseq('seq2',sampleseq2)" title="Load the sequence of the final plasmid of example 1 from the example section.">Load example</button>
				<button id="clear2" class="button button3" onclick="clearseq('seq2')" title="Clear the current sequence and the result columns.">Clear</button>
				<label for="circular2" title="Check if the provided sequence is circular.">circular: </label><input id="circular2" checked="checked" type="checkbox" title="Check if the provided sequence is circular.">
			</div>
		</div><br>

		<div>DNA Sequence 3 (e.g. final plasmid for preselection):
			<div>
				<textarea id="seq3" name="Sequence 3" rows="4" cols="90"></textarea>
			</div>
			<div>
				<button class="button button2" onclick="loadSequence('seq3')" title="Load sequence from a file.">Load sequence...</button>
				<button class="button button2" onclick="setseq('seq3',sampleseq3)" title="Load the sequence of the donor plasmid of example 1 from the example section.">Load example</button>
				<button id="clear3" class="button button3" onclick="clearseq('seq3')" title="Clear the current sequence and the result columns.">Clear</button>
				<label for="circular3" title="Check if the provided sequence is circular.">circular: </label><input id="circular3" checked="checked" type="checkbox" title="Check if the provided sequence is circular.">
			</div>
		</div><br>

		<table style="text-align: left; border:none;" cellpadding="2" cellspacing="2">
			<tbody>
				<tr>
					<td style="vertical-align: top; border:none;">
						<label for="EnzymesToUse">Enzymes to use:</label>
					</td>
					<td style="horizontal-align: top; border:none;">
					</td>
					<td style="vertical-align: top; border:none;">
						<label for="EnzymesToExclude">Enzymes to exclude:</label>
					</td>
					<td style="horizontal-align: top; border:none;">
					</td>
				<tr/>
				<tr>
					<td style="vertical-align: top; border:none;">
						<div>
							<select id="EnzymesToUse" name="EnzymesToUse" style="width:180px; height:120px" size="6" multiple>
							</select>
						</div>
					</td>
					<td style="horizontal-align: top; border:none;">
						<div><button id="addEnzymes" class="button button2" onclick="addEnzymes()" title="Add one or more enzymes. Use 'shift' or 'control' (on a Mac 'cmd') to slect more than one enzyme."><-</button></div>
						<div><button id="removeEnymes" class="button button3" onclick="removeEnzymes()" title="Remove one or more enzymes. Use 'shift' or 'control' (on a Mac 'cmd') to slect more than one enzyme.">-></button></div>
					</td>
					<td style="vertical-align: top; border:none;">
						<div>
							<select id="EnzymesToExclude" name="EnzymesToExclude" style="width:180px; height:120px" size="6" multiple>
							</select>
						</div>
					</td>
					<td style="horizontal-align: top; border:none;">
						<div>
							<button id="loadEnymes" class="button button2" onclick="loadEnzymes()" title="Load enzymes from a file.">Load Enzymes...</button>
							<input type="file" id="loadEnzymesDialog" style="display:none" onchange="onChangeLoadEnzymes()"/>
						</div>
						<div>
							<button id="saveEnymes" class="button button1" onclick="saveEnzymes()" title="Save enzymes to a file.">Save Enzymes...</button>
							<a id="saveEnzymesDialog" style="display:none"/>
						</div>
					</td>
					<td style="horizontal-align: top; border:none;">
						<div class='label' id='fileWarning' style="color:red"></div>
					</td>
				</tr>
				<tr>
					<td style="vertical-align: top; border:none;">
						<div><button id="useAllEnzymes" class="button button2" onclick="useAllEnzymes()" title="Use all enzymes in the database for digestion.">Use all enzymes</button></div>
					</td>
					<td style="horizontal-align: top; border:none;">
					</td>
					<td style="vertical-align: top; border:none;">
						<div><button id="removeAllEnymes" class="button button3" onclick="removeAllEnzymes()" title="Remove all enzymes from the list of enzymes to use. Then you can put back a few enzymes.">Remove all enzymes</button></div>
					</td>
					<td style="horizontal-align: top; border:none;">
					</td>
				<tr/>
			</tbody>
		</table><br>

		<div>
			<button class="button button1" onclick="myFunction()" title="When you have entered your sequences and the selected the enzymes you want to use, find the enzymes for your preselection digest in the columns below.">Submit and Digest</button>
			<button id="clearAll" class="button button3" onclick="clearresults()" title="Clear the result columns.">Clear Results</button>
			<button id="clearSequences" class="button button3" onclick="clearSequences()" title="Clear all provided sequences and the result columns.">Clear All Sequences</button>
		</div><br>

		<div class='label' id='commenton'>Info: </div>

		<div class="h1">
			<b>Results a) </b> cutting enzymes in one sequence but not in another (recognition sequence, number of matches on +/- strand)<br>
		</div>
		<table style="text-align: left; width: 95%;" cellpadding="2" cellspacing="2">
			<tbody>
				<tr>
					<td style="vertical-align: top;"><div class="small" id="cutinseq1notin3Label">cut in Sequence 1 but not in Sequence 3:</div><br></td>
					<td style="vertical-align: top;"><div class="small" id="cutinseq2notin3Label">cut in Sequence 2 but not in Sequence 3:</div><br></td>
				</tr>
				<tr>
					<td style="vertical-align: top;"><div class="small" id="cutinseq1notin3"></div><br></td>
					<td style="vertical-align: top;"><div class="small" id="cutinseq2notin3"></div><br></td>
				</tr>
			</tbody>
		</table>

		<div class="h1">
			<b>Results b) </b> cutting enzymes in one sequence (recognition sequence, number of matches on +/- strand)<br>
		</div>
		<table style="text-align: left; width: 95%;" cellpadding="2" cellspacing="2">
			<tbody>
				<tr>
					<td style="vertical-align: top;"><div class="small" id="cutinseq1Label">cut in Sequence 1:</div><br></td>
					<td style="vertical-align: top;"><div class="small" id="cutinseq2Label">cut in Sequence 2:</div><br></td>
					<td style="vertical-align: top;"><div class="small" id="cutinseq3Label">cut in Seqeunce 3:</div><br></td>
				</tr>
				<tr>
					<td style="vertical-align: top;"><div class="small" id="cutinseq1"></div><br></td>
					<td style="vertical-align: top;"><div class="small" id="cutinseq2"></div><br></td>
					<td style="vertical-align: top;"><div class="small" id="cutinseq3"></div><br></td>
				</tr>
			</tbody>
		</table>

		<div class="h1">
			<b>Results c)</b> non-cutting enzymes<br>
		</div>
		<table style="text-align: left; width: 95%;" cellpadding="2" cellspacing="2">
			<tbody>
				<tr>
					<td style="vertical-align: top;"><div class="small" id="nocutinseq1Label">no cut in Sequence 1:</div><br></td>
					<td style="vertical-align: top;"><div class="small" id="nocutinseq2Label">no cut in Sequence 2:</div><br></td>
					<td style="vertical-align: top;"><div class="small" id="nocutinseq3Label">no cut in Seqeunce 3:</div><br></td>
				</tr>
				<tr>
					<td style="vertical-align: top;"><div class="small" id="nocutinseq1"></div><br></td>
					<td style="vertical-align: top;"><div class="small" id="nocutinseq2"></div><br></td>
					<td style="vertical-align: top;"><div class="small" id="nocutinseq3"></div><br></td>
				</tr>
			</tbody>
		</table>
	</div>
</body>
</html>
